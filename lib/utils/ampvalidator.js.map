{"version":3,"sources":["../../src/utils/ampvalidator.js"],"names":["enhanceValidator","script","validateString","sandbox","amp","validator","validateMarkup","markup","instance","getInstance","resolve","__dirname","then"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,mBAAmB,SAAnBA,gBAAmB,CAACC,MAAD,EAAY;AACnC,MAAMC,iBAAiBD,OAAOE,OAAP,CAAeC,GAAf,CAAmBC,SAAnB,CAA6BH,cAApD;;AAEA,SAAO;AACLI,oBAAgB,wBAACC,MAAD,EAAY;AAC1B,aAAOL,eAAeK,MAAf,EAAuB,KAAvB,CAAP;AACD;AAHI,GAAP;AAKD,CARD;;AAUA,IAAIC,iBAAJ;AACA,IAAMC,cAAc,SAAdA,WAAc,GAAM;AACxB,MAAI,CAACD,QAAL,EAAe;AACbA,eAAW,2BAAiBC,WAAjB,CACT,eAAKC,OAAL,CAAaC,SAAb,EAAwB,4BAAxB,CADS,EAETC,IAFS,CAEJZ,gBAFI,CAAX;AAGD;AACD,SAAOQ,QAAP;AACD,CAPD;;kBASe;AACbC;AADa,C","file":"ampvalidator.js","sourcesContent":["import amphtmlValidator from 'amphtml-validator';\nimport path from 'path';\n\nconst enhanceValidator = (script) => {\n  const validateString = script.sandbox.amp.validator.validateString;\n\n  return {\n    validateMarkup: (markup) => {\n      return validateString(markup, 'AMP');\n    },\n  };\n};\n\nlet instance;\nconst getInstance = () => {\n  if (!instance) {\n    instance = amphtmlValidator.getInstance(\n      path.resolve(__dirname, '../../vendors/validator.js')\n    ).then(enhanceValidator);\n  }\n  return instance;\n};\n\nexport default {\n  getInstance,\n};\n"]}